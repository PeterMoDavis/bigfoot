{"version":3,"sources":["Main.js","bigfoot.png","roar.wav","Map.js","App.js","index.js"],"names":["Main","styles","header","fontFamily","fontSize","fetch","then","res","json","data","className","style","this","Component","mapboxgl","accessToken","Map","useState","bigfootSightings","userPosition","a","locationButton","document","querySelector","audio","Audio","roar","click","Event","dispatchEvent","backgroundColor","innerText","display","opacity","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","classList","add","play","setTimeout","remove","console","log","useEffect","features","map","each","description","attributes","descriptio","title","name","geometry","coordinates","x","y","makeMap","container","mapContainerRef","current","center","zoom","forEach","marker","el","createElement","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","addControl","NavigationControl","GeolocateControl","positionOptions","enableHighAccuracy","fitBoundsOptions","maxZoom","showAccuracyCircle","trackUserLocation","useRef","onClick","ref","src","bigfoot","alt","id","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.397e80b0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Main extends Component {\n  styles = {\n    header: {\n      fontFamily: \"Squada One\",\n      fontSize: \"100px\",\n    },\n  };\n\n  getBigfoot() {\n    fetch(\n      \"https://services2.arcgis.com/sJvSsHKKEOKRemAr/arcgis/rest/services/Bigfoot%20Locations/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json\"\n    )\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {});\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"d-flex flex-column flex-sm-row justify-content-center \">\n          <h1 className=\"text-center\" style={this.styles.header}>\n            BIGFOOT ENCOUNTERS\n          </h1>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/bigfoot.3045098c.png\";","export default __webpack_public_path__ + \"static/media/roar.d34f8a59.wav\";","import React, { useRef, useEffect, useState } from \"react\";\nimport mapboxgl, { GeolocateControl } from \"mapbox-gl\";\nimport bigfoot from \"./bigfoot.png\";\nimport roar from \"./roar.wav\";\n\nimport \"./App.css\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoicG1vZGF2aXMiLCJhIjoiY2twZDAzam80MGl4eDJucjNja3F0eWt6YyJ9.pDCggo-HzdU4pDYxaUT3Tw\";\n\nconst Map = () => {\n  const [zoom, setZoom] = useState(3);\n\n  let bigfootSightings = [];\n  const getBigfoot = () => {\n    fetch(\n      \"https://services2.arcgis.com/sJvSsHKKEOKRemAr/arcgis/rest/services/Bigfoot%20Locations/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json\"\n    )\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        bigfootSightings = data.features.map((each) => {\n          return {\n            description: each.attributes.descriptio,\n            title: each.attributes.name,\n            geometry: {\n              coordinates: [each.geometry.x, each.geometry.y],\n            },\n          };\n        });\n        console.log(data);\n      })\n      .then(() => {\n        makeMap();\n      });\n    console.log(bigfootSightings);\n  };\n\n  const getCoordinates = () => {\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n  };\n\n  const userPosition = async () => {\n    const locationButton = document.querySelector(\".mapboxgl-ctrl-geolocate\");\n    const audio = new Audio(roar);\n    const click = new Event(\"click\");\n    locationButton.dispatchEvent(click);\n    document.querySelector(\"body\").style.backgroundColor = \"#830303\";\n    document.querySelector(\"button\").innerText = \"Loading...\";\n    document.querySelector(\"#bigfoot\").style.display = \"block\";\n    document.querySelector(\"#bigfoot\").style.opacity = \"0\";\n    document.querySelector(\"#bigfoot\").style.opacity = \".8\";\n\n    const location = await getCoordinates();\n    document.querySelector(\"body\").classList.add(\"shake\");\n    document.querySelector(\"button\").innerText = \"Here we are.\";\n    document.querySelector(\"#bigfoot\").style.opacity = \".0\";\n    audio.play();\n    setTimeout(() => {\n      document.querySelector(\"button\").innerText = \"Get Encounters\";\n      document.querySelector(\"body\").style.backgroundColor = \"white\";\n      document.querySelector(\"#bigfoot\").style.display = \"none\";\n      document.querySelector(\"body\").classList.remove(\"shake\");\n    }, 3000);\n    console.log(bigfootSightings);\n  };\n\n  useEffect(() => {\n    getBigfoot();\n    console.log(bigfootSightings);\n  }, []);\n\n  const makeMap = () => {\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      // See style options here: https://docs.mapbox.com/api/maps/#styles\n      style: \"mapbox://styles/pmodavis/ckpeh637y08xj18qrb14covxq\",\n      center: [-95.712891, 37.09024],\n      zoom: 3,\n    });\n\n    bigfootSightings.forEach(function (marker) {\n      // create a HTML element for each feature\n      var el = document.createElement(\"div\");\n      el.className = \"marker\";\n\n      // make a marker for each feature and add to the map\n      new mapboxgl.Marker(el)\n        .setLngLat(marker.geometry.coordinates)\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }) // add popups\n            .setHTML(\n              \"<h3>\" + marker.title + \"</h3><p>\" + marker.description + \"</p>\"\n            )\n        )\n        .addTo(map);\n    });\n\n    // add navigation control (the +/- zoom buttons)\n    map.addControl(new mapboxgl.NavigationControl(), \"bottom-right\");\n    map.addControl(new mapboxgl.GeolocateControl(), \"top-right\", {\n      positionOptions: {\n        enableHighAccuracy: true,\n      },\n      fitBoundsOptions: {\n        maxZoom: 15,\n      },\n      showAccuracyCircle: true,\n      trackUserLocation: true,\n    });\n\n    // clean up on unmount\n    return () => map.remove();\n  };\n\n  const mapContainerRef = useRef(null);\n\n  // initialize map when component mounts\n  // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"d-flex flex-column align-items-center main-container\">\n      <div className=\"text-center\">\n        <button onClick={() => userPosition()}>Get Encounters</button>\n      </div>\n      <div className=\"bigfoot-parent\">\n        <span>\n          <div\n            className=\"map-container mt-3 d-flex flex-column justify-content-center align-content-center\"\n            ref={mapContainerRef}\n          />\n        </span>\n        <img src={bigfoot} alt=\"\" id=\"bigfoot\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Map;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport Main from \"./Main\";\nimport Map from \"./Map\";\n\nconst App = () => {\n  return (\n    <div>\n      <Main />\n      <Map />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}